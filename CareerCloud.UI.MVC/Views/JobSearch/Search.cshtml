@using System.ComponentModel
@using CareerCloud.UI.MVC.Models
@model IEnumerable<ApplicantJobSearchVM>

@{
    ViewBag.Title = "JobSearch";
}

<h2>Search Jobs</h2>
<br />

@*<p>
        @Html.ActionLink("Create New", "Create")
    </p>*@
<table class="table">
    <tr>
        <th>
            @{
                string propertyName = Html.DisplayNameFor(model => model.JobTitle).ToString();
            }

            @Html.ActionLink(propertyName,
                                "Search",
                                new { sortProperty = propertyName, sortDirection = ViewBag.JobTitleSortDirection, applicantId = ViewBag.ApplicantId })
        </th>
        <th>
            @{
                propertyName = Html.DisplayNameFor(model => model.CompanyName).ToString();
            }
            @Html.ActionLink(propertyName,
                                "Search",
                                new { sortProperty = propertyName, sortDirection = ViewBag.CompanyNameSortDirection, applicantId = ViewBag.ApplicantId })

        </th>
        <th>
            @{
                propertyName = Html.DisplayNameFor(model => model.DatePosted).ToString();
            }
            @Html.ActionLink(propertyName,
                                "Search",
                                new { sortProperty = propertyName, sortDirection = ViewBag.DatePostedSortDirection, applicantId = ViewBag.ApplicantId })

        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.JobTitle)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.CompanyName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.DatePosted)
        </td>
        <td>
            @Html.ActionLink("Details", "ShowJobDetails", new { companyId = item.CompanyId, jobId = item.JobId, applicantId = item.ApplicantId })
            @*@Html.ActionLink("Apply", "ApplyForJob", new { jobId = item.JobId, applicantId = item.ApplicantId })*@
        </td>
    </tr>
    }

</table>
